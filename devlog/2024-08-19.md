# Devlog: Week of 2024-08-19 to 2024-08-25

This week has been productive, focusing on improving code generation, text processing tools, image handling, and enhancing our LLM integration. I also invested time in refining commit message formatting and fixing a few minor bugs.

## Key Achievements

*   **Enhanced Code Generation and Testing:** Added new scripts for reversing lines and counting word frequencies, along with their corresponding unit tests.
*   **Improved Markdown Handling:** Created a new CLI tool to extract code blocks from Markdown files and a script to format Markdown tables.
*   **Civitai Image Integration:** Implemented a script to fetch image URLs from the Civitai API.
*   **LLM Commit Message Refinement:** Updated the commit message format guidance to be more concise and informative.
*   **LLM `process` Script Improvement:** updated message handling to give the LLM better constraints to follow.

## Code Generation and Testing

To improve the quality of code generated by AI, I've added new example scripts and tests. Specifically, I created `reverse_lines.py` and `word_frequency.py`, along with their respective tests (`reverser_test.py` and `word_frequency_test.py`). These scripts demonstrate basic Python functionality, while the tests ensure correct behavior. This will help in testing and improving the AI code generation capabilities of our system.

## Markdown Handling

A new CLI tool, `markdown_code.py`, was developed to extract code blocks from Markdown files. This is useful for various applications, such as code documentation or analysis. The script includes an option to comment out non-code sections using a specified prefix. Tests were also added to ensure the script functions correctly under different scenarios. To complement this, I also created `markdown_table_spacing.py`, a script to format Markdown tables, ensuring consistent and readable table layouts. It includes the ability to create compact tables or tables with aligned columns.

## Civitai Image Integration

I've added a script, `civitai_images.py`, to fetch image URLs from the Civitai API. The script supports various filtering options, such as specifying a model ID, username, or NSFW content. The script also implements pagination to retrieve large numbers of images. I renamed the file from `fetch_images.py` to `civitai_images.py` to improve clarity and reflect the specific API being used.

## LLM Commit Message Refinement

The `llm-git-commit` script was updated to provide clearer and more concise commit message format guidance to the LLM. I removed the mention of markdown resemblance, clarified the allowed commit types (feat, fix, docs, style, refactor, test, chore, perf), and provided indentation guidelines for wrapped lines in list items.  Also, extended the message for process command with guidelines on responses, to prevent the LLM from making unwanted edits.

## Miscellaneous Fixes and Improvements

*   Fixed an issue in `llm.py` where code was being re-indented with tabs by default. The default is now no indentation.
*   Switched the input method in `markdown_code.py` from `fileinput.input()` to `sys.stdin.read()` to improve compatibility.
*   Added a script `wgall` to allow running `wg` in parallel.
*   Enhanced the example `hello.py` script and added unit tests to demonstrate Python code style for the AIs.
*   Updated the `search.py` script to correctly handle engine names and added a `header` option to include table headers in the output.
