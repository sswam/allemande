# nginx proxy_pass URL Normalization Summary

nginx's `proxy_pass` directive can cause dangerous URL normalization due to its decoding and normalizing of paths, especially with `proxy_pass` configurations including a URI. This can lead to cache poisoning, authentication bypass, and client-side path traversal (CSPT) vulnerabilities. Safe configurations avoid specifying a URI in the `proxy_pass` directive (e.g., `proxy_pass http://127.0.0.1:8080;`) or, when needing to consume part of the path, must employ `rewrite ^ $request_uri;` along with using `$1` or `$uri` in the `proxy_pass` path. A `return 400;` statement is crucial to prevent fall-through behavior that could expose files. The author plans to release a tool to automatically detect these issues and has submitted a pull request to `gixy-ng` for static analysis.
