#!/bin/bash
# gpt-git-commit: git commit with a message generated by gpt
git diff --staged |
	gpt process 'please describe this diff, for a commit message' |
	gpt process -m4 'Please improve this git commit message, format 1 very short line then optionally blank line then more details' |
	tee commit-message.txt
git commit -t commit-message.txt &&
	rm commit-message.txt
