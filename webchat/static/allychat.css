* {
	box-sizing: border-box;
}

body {
	font-family: "IBM Plex Sans", helvetica, arial, sans-serif;
	font-optical-sizing: auto;
	font-weight: 400;
	font-style: normal;
	font-variation-settings: "wdth" 100;
}

input, button, select, textarea {
	font: inherit;
}

body, html {
	width: 100%;
	height: 100%;
	max-width: 100%;
	max-height: 100%;
	margin: 0;
	padding: 0;
	overflow: hidden;
}

.row {
	display: flex;
	flex-direction: row;
}
.col {
	display: flex;
	flex-direction: column;
}
.pad {
	padding: var(--pad);
}
.gap {
	gap: var(--pad);
}
.fill {
	width: 100%;
	height: 100%;
}
.wide {
	width: 100%;
}
.grow {
	flex: 1 1 0;
}

.grow2 {
	flex: 2 1 0;
}

.grow3 {
	flex: 3 1 0;
}

body:not(.history) .hidden, .hidden:not(.removed) {
	display: none !important;
}

body.history .hidden.removed, body.history .hidden.removed * {
	opacity: 0.75 !important;
}

.invisible {
	visibility: hidden !important;
}

/*
.noscroll {
	overflow: hidden;
}
*/

/* themeable elements */

input, textarea, select, button, .button, .label, div.content, div.id {
	color: var(--text);
}

body#app {
	background: var(--frame);
}

body#messages {
	background: var(--background);
}

body#dir {
	background: var(--background);
}

/*
body#messages > div.messages_wrap {
	background: var(--background);
}

body#messages > div.canvas {
	background: var(--background);
}
*/

input, textarea, select, button, iframe, .button, #help-widget {
	background: var(--input);
	border: 0.0625rem solid var(--border);
}

input:focus, textarea:focus, select:focus, iframe:focus {
	background: var(--focus);
}

.button {
	display: inline-block;
	text-decoration: none;
	padding: 0.0625rem 0.375rem;
	cursor: default;
}

button, .button {
	background: var(--button);
}

button:hover, button:focus, .button:hover, .button:focus {
	background: var(--button-focus);
}

button:disabled, button:disabled:hover, button:disabled:focus,
.button:disabled, .button:disabled:hover, .button:disabled:focus,
input:disabled, input:disabled:hover, input:disabled:focus,
select:disabled, select:disabled:hover, select:disabled:focus
{
	color: var(--col7);
	background: var(--col3);
}

/* buttons with SVG icons */

button:has(svg.icon), .button:has(svg.icon), button:has(i.bi), .button:has(i.bi), #top_main #user {
	display: flex;
	align-items: center;
	justify-content: center;
	padding: calc(var(--pad) / 2);
	line-height: 1;
	overflow: clip;
	height: 1.5em;  /* disregard content size */
	border-radius: var(--radius);
	cursor: pointer;
}

.i16 { width: 1rem; height: 1rem; font-size: 1rem; }
.i18 { width: 1.125rem; height: 1.125rem; font-size: 1.125rem; }
.i20 { width: 1.25rem; height: 1.25rem; font-size: 1.25rem; }
.i22 { width: 1.375rem; height: 1.375rem; font-size: 1.375rem; }
.i32 { width: 2rem; max-height: 2rem; font-size: 2rem; }

a {
	text-decoration: none;
	color: var(--link);
}
a:hover {
	text-decoration: underline;
}

/* scrollbars */

* {
	scrollbar-color: var(--scrollbar) var(--scrollbar-background);
}

/* scrollbar-width: thin is TOO thin on Firefox */
@supports selector(::-webkit-scrollbar) {
	* {
		scrollbar-width: thin;
	}
}

::-webkit-scrollbar {
	height: 0.375rem;
	width: 0.375rem;
	background: var(--scrollbar-background);
}

::-webkit-scrollbar-thumb {
	background: var(--scrollbar);
	-webkit-border-radius: 0.5rem;
	-webkit-box-shadow: 0 0.0625rem 0.125rem rgba(0, 0, 0, 0.75);
}

::-webkit-scrollbar-corner {
	background: var(--background);
}

:root {
	--pad: 0.5rem;
	--turn: 0.75rem;  /* 0.375rem */
	--p-spacing: 0.5rem;
	--line-height: 1.2;
	--radius: 0.375rem;
	--font-size: 16px;
	--font-size-code: 12px;
	--label-indent: 1rem;
	--label-gap: 0.5rem;
	font-size: var(--font-size);
}


p, blockquote, pre, address, h1, h2, h3, h4, h5, h6, article, ul, ol, figure, figcaption {
  margin-block-start: var(--p-spacing);
  margin-block-end: var(--p-spacing);
  margin-top: var(--p-spacing);
  margin-bottom: var(--p-spacing);
  line-height: var(--line-height);
}

body.simple {
	--pad: 0.75rem;
/*	--pad: 1.5rem; */
	--radius: 1rem;
	--ui-size-min: 5rem;
	--frame: var(--background);
	--border: none;
}

input::placeholder, textarea::placeholder {
	color: var(--text);
	opacity: 0.5;
}

/* light mode / dark mode default colours, avoid flash of white or black */

@media (prefers-color-scheme: light) {
	:root {
		/* gradient.py --css 1 .5 8 */
		--col0: #ededed;
		--col1: #ededed;
		--col2: #dbdbdb;
		--col3: #c9c9c9;
		--col4: #b6b6b6;
		--col5: #a4a4a4;
		--col6: #929292;
		--col7: #808080;
	}
}

@media (prefers-color-scheme: dark) {
	:root {
		/* gradient.py --css 0 .5 8 */
		--col0: #121212;
		--col1: #121212;
		--col2: #242424;
		--col3: #363636;
		--col4: #494949;
		--col5: #5b5b5b;
		--col6: #6d6d6d;
		--col7: #808080;
	}
}

/* default color mappings for a gradient theme */

:root {
	--frame: var(--col0);
	--background: var(--col1);
	--focus: var(--col2);
	--input: var(--col3);
	--button: var(--col4);
	--button-focus: var(--col5);
	--link: var(--col6);
	--text: var(--col7);

	--border: var(--frame);

	--think: var(--link);
	--me: var(--link);
	--primary: var(--link);

	--scrollbar-background: var(--background);
	--scrollbar: var(--link);

	--ui-size-min: 2rem;
	--input-width-min: 8rem;

	--image-width: 40vw;
	--image-height: 40vh;
	--image-width-large: 90vw;
	--image-height-large: 90vh;
	--image-width-small: 20vw;
	--image-height-small: 20vh;

	--background-image: none;
	--background-image-opacity: 0.5;
	--code-background-opacity: 0.2;
	--code-border-opacity: 0.1;
}

/* rainbow text ----------------------------------------------------------- */

.rainbow, .rainbow-text {
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  color: transparent;
}

body.light :is(.rainbow, .rainbow-text) {
  background-image: linear-gradient(to right,
    #ff0000,    /* Red */
    #ff7f00,    /* Orange */
    #ffa500,    /* Darker yellow for light mode */
    #008000,    /* Darker green for light mode */
    #0000ff,    /* Blue */
    #4b0082,    /* Indigo */
    #9400d3     /* Violet */
  );
}

body.dark :is(.rainbow, .rainbow-text) {
  background-image: linear-gradient(to right,
    #ff0000,    /* Red */
    #ff7f00,    /* Orange */
    #ffff00,    /* Yellow */
    #00ff00,    /* Bright green for dark mode */
    #00ffff,    /* Lighter blue for dark mode */
    #8f00ff,    /* Brighter indigo for dark mode */
    #ff00ff     /* Brighter violet for dark mode */
  );
}
